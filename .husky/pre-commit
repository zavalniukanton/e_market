#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Check tsconfig standarts
npm run check-types || ( echo "âŒğŸ˜‚âŒ Failed Type check. âŒğŸ˜‚âŒ Are you seriously trying to write that? Make the changes required above." false;)

# Check Prettier standarts
npm run check-format || ( echo "âŒğŸ¤®ğŸ˜µâ€ğŸ’« Its F**KING RAW - Your styling looks disgusting. ğŸ˜µâ€ğŸ’«ğŸ¤®âŒ Prettier check failed. Run yarn format, add changes and try again." false;)

# Check ESLint standarts
npm run check-lint || ( echo "âŒğŸ¤®ğŸ˜µâ€ğŸ’« Get that weak s**t out of here. ğŸ˜µâ€ğŸ’«ğŸ¤®âŒ ESLint check failed. Make the required changes listed above, add changes and try to commit again" false;)

# If everything passes... try to run a build
echo "ğŸ¤”ğŸ¤”ğŸ¤” ...Alright... Code looks good to me... Trying to build now ğŸ¤”ğŸ¤”ğŸ¤”"

npm run build || ( echo "âŒâ›‘ï¸ğŸ”¨ Better call Bob... Because your build failed ğŸ”¨â›‘ï¸âŒ Next build failed: View the errors above to see why" false;)

# If it builds we can commit 
echo "âœ…âœ…âœ… You win this time... I am commiting this now âœ…âœ…âœ…"

